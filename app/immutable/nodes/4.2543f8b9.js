import{s as P,f as v,a as L,g as y,h as w,y as A,c as T,d as U,j as r,i as k,v as f,E as b,F as E,w as I,G as B}from"../chunks/scheduler.d64e95b5.js";import{S as D,i as F}from"../chunks/index.63c1aa50.js";import{a as K,u as M}from"../chunks/nostr.11a57b54.js";import{c as O}from"../chunks/createStore.b5949088.js";function j(o){let u,e,n,m="Title",d,t,i,g,a,h,_,l,N="Submit",C,S;return{c(){u=v("div"),e=v("form"),n=v("label"),n.textContent=m,d=L(),t=v("input"),g=L(),a=v("input"),_=L(),l=v("button"),l.textContent=N,this.h()},l(s){u=y(s,"DIV",{});var p=w(u);e=y(p,"FORM",{class:!0});var c=w(e);n=y(c,"LABEL",{for:!0,"data-svelte-h":!0}),A(n)!=="svelte-1nie8zk"&&(n.textContent=m),d=T(c),t=y(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0}),g=T(c),a=y(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0}),_=T(c),l=y(c,"BUTTON",{type:!0,"data-svelte-h":!0}),A(l)!=="svelte-1ce8lps"&&(l.textContent=N),c.forEach(U),p.forEach(U),this.h()},h(){r(n,"for","username"),r(t,"type","text"),r(t,"id","username"),r(t,"name","username"),r(t,"placeholder",i=o[2]?"Loading...":"username"),r(a,"type","text"),r(a,"id","avatar"),r(a,"name","avatar"),r(a,"placeholder",h=o[2]?"Loading...":"avatar"),r(l,"type","submit"),r(e,"class","form-container svelte-9yy43y")},m(s,p){k(s,u,p),f(u,e),f(e,n),f(e,d),f(e,t),b(t,o[0]),f(e,g),f(e,a),b(a,o[1]),f(e,_),f(e,l),C||(S=[E(t,"input",o[4]),E(a,"input",o[5]),E(l,"click",o[3])],C=!0)},p(s,[p]){p&4&&i!==(i=s[2]?"Loading...":"username")&&r(t,"placeholder",i),p&1&&t.value!==s[0]&&b(t,s[0]),p&4&&h!==(h=s[2]?"Loading...":"avatar")&&r(a,"placeholder",h),p&2&&a.value!==s[1]&&b(a,s[1])},i:I,o:I,d(s){s&&U(u),C=!1,B(S)}}}function q(o,u,e){let n="",m="",d,t,i=!1;async function g(){await M({name:n,picture:m})}O.subscribe(async _=>{if(t=_.pubKey,!!t)try{e(2,i=!0),d=await K(t),e(2,i=!1),e(0,n=d.name),e(1,m=d.picture)}catch(l){console.log(l),e(2,i=!1)}});function a(){n=this.value,e(0,n)}function h(){m=this.value,e(1,m)}return[n,m,i,g,a,h]}class H extends D{constructor(u){super(),F(this,u,q,j,P,{})}}export{H as component};
